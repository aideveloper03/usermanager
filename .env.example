# =============================================================================
# N8N ORCHESTRATION GATEWAY - ENVIRONMENT CONFIGURATION
# =============================================================================
# Copy this file to .env and fill in your values

# -----------------------------------------------------------------------------
# APPLICATION SETTINGS
# -----------------------------------------------------------------------------
APP_NAME="N8N Orchestration Gateway"
APP_VERSION="1.0.0"
DEBUG=false
ENVIRONMENT=production

# Server Configuration
HOST=0.0.0.0
PORT=8000
WORKERS=4

# -----------------------------------------------------------------------------
# SUPABASE CONFIGURATION
# -----------------------------------------------------------------------------
# Get these from your Supabase project settings
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_ANON_KEY=your-anon-key
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key

# Database connection (for direct PostgreSQL access if needed)
DATABASE_URL=postgresql://postgres:password@db.your-project.supabase.co:5432/postgres

# -----------------------------------------------------------------------------
# CLERK AUTHENTICATION
# -----------------------------------------------------------------------------
# Get these from your Clerk dashboard
CLERK_SECRET_KEY=sk_test_xxxxxxxxxxxxx
CLERK_PUBLISHABLE_KEY=pk_test_xxxxxxxxxxxxx
CLERK_JWT_ISSUER=https://your-clerk-instance.clerk.accounts.dev
CLERK_JWKS_URL=https://your-clerk-instance.clerk.accounts.dev/.well-known/jwks.json

# -----------------------------------------------------------------------------
# N8N CONFIGURATION
# -----------------------------------------------------------------------------
# Your private n8n instance URL
N8N_BASE_URL=https://your-n8n-instance.example.com
N8N_WEBHOOK_PATH=/webhook

# High-entropy secret for internal auth (generate with: openssl rand -hex 32)
N8N_INTERNAL_AUTH_SECRET=your-very-long-random-secret-here

# Request timeout for n8n calls (in seconds)
N8N_REQUEST_TIMEOUT=300

# -----------------------------------------------------------------------------
# REDIS CONFIGURATION (for rate limiting)
# -----------------------------------------------------------------------------
REDIS_URL=redis://localhost:6379/0
REDIS_PASSWORD=
REDIS_SSL=false

# -----------------------------------------------------------------------------
# RATE LIMITING
# -----------------------------------------------------------------------------
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_PERIOD=60

# -----------------------------------------------------------------------------
# SECURITY SETTINGS
# -----------------------------------------------------------------------------
# HMAC signature validity window (in seconds)
HMAC_TIMESTAMP_TOLERANCE=300

# Allowed origins for CORS (comma-separated)
CORS_ORIGINS=https://your-frontend.com,https://app.your-domain.com

# Trusted proxy IPs (comma-separated, for accurate client IP detection)
TRUSTED_PROXIES=

# -----------------------------------------------------------------------------
# LOGGING
# -----------------------------------------------------------------------------
LOG_LEVEL=INFO
LOG_FORMAT=json

# -----------------------------------------------------------------------------
# FEATURE FLAGS
# -----------------------------------------------------------------------------
ENABLE_RATE_LIMITING=true
ENABLE_HMAC_VALIDATION=true
ENABLE_FINGERPRINTING=true
ENABLE_REQUEST_LOGGING=true
